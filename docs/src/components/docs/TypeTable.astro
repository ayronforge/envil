---
interface TypeRow {
  name: string;
  type: string;
  required?: boolean;
  default?: string;
  description: string;
}

interface Props {
  rows: TypeRow[];
  showDefault?: boolean;
}

const { rows, showDefault = true } = Astro.props;
---

<div class="overflow-x-auto my-6">
  <table class="w-full text-sm border-collapse">
    <thead>
      <tr class="border-b-2 border-border">
        <th class="text-left font-semibold py-2 pr-4">Name</th>
        <th class="text-left font-semibold py-2 pr-4">Type</th>
        {showDefault && <th class="text-left font-semibold py-2 pr-4">Default</th>}
        <th class="text-left font-semibold py-2">Description</th>
      </tr>
    </thead>
    <tbody>
      {rows.map((row) => (
        <tr class="border-b border-border">
          <td class="py-2.5 pr-4 font-mono text-xs whitespace-nowrap">
            {row.name}
            {row.required && (
              <span class="ml-1.5 text-[10px] font-sans font-semibold uppercase px-1.5 py-0.5 rounded bg-secondary/10 text-secondary">
                Required
              </span>
            )}
          </td>
          <td class="py-2.5 pr-4 font-mono text-xs text-muted whitespace-nowrap">{row.type}</td>
          {showDefault && <td class="py-2.5 pr-4 font-mono text-xs text-muted">{row.default || "â€”"}</td>}
          <td class="py-2.5 text-muted">{row.description}</td>
        </tr>
      ))}
    </tbody>
  </table>
</div>
